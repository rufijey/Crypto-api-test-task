### Инструкция по сборке
Создайте .env файл с содержанием:

APP_ENV=dev<br>
DATABASE_URL="mysql://root:root@database:3306/crypto?serverVersion=8.0.32&charset=utf8mb4"<br>
MESSENGER_TRANSPORT_DS=doctrine://default?auto_setup=0<br>

Выполните команду **composer install**, для установки зависимостей проекта.

Выполните комманду **docker-compose up -d** для сборки и запуска контейнеров.<br>

Используйте комманду **docker-compose exec -it app bash**, для открытия терминала внутри контейнера app.<br>

Далее выполните комманды **php bin/console doctrine:migrations:migrate**, **php bin/console doctrine:fixtures:load**, 
для создания миграций и заполнения данными валют соответственно.<br>

После этого используйте **APP_DEBUG=0 php bin/console rates:load:newest**, комманда rates:load 
загружает данные для соответствующих валют в базе данных начиная с начала 2024 года и до текущего времени, обращаясь к апи бинанса.<br>

APP_DEBUG=0 нужен потому что в режиме разработки доктрина все запросы записывает в логи, из-за чего заканчивается память и выполнение программы обрывается.<br>

### Инструкция по работе

Для получения данных о курсе криптовалют создан эндпоинт http://localhost:8000/api/rates.
#### Параметры запросса:
**startTime** — принимает время формата Y-m-d H:i:s, указывает на момент начала интервала, который будет использоваться для фильтрации данных. **Не обязателен**.<br>
**endTime** — принимает время формата Y-m-d H:i:s, указывает на момент конца интервала, который будет использоваться для фильтрации данных. **Не обязателен**.<br>
**cryptocurrencies** - принимает строку с перечеслением через запятую, является списком криптовалют для которых нужно получить соответствующие курсы в валютах. **Не обязателен**, если не указать, будут браться все криптовалюты в базе данных.<br>
**currencies** - принимает строку с перечеслением через запятую, является списком валют в соответсвии к которым будут возвращены курсы криптовалют. **Не обязателен**, если не указать, будут браться все валюты в базе данных.<br>
**limit** - принимает целочисленное значение, уазывает на максимальное колличетсво результатов которое нужно вернуть. **Не обязателен**.<br>

Также настроен Scheduler который каждый час использует комманду **php bin/console rates:load** для подгрузки новых данных с бинанса.
